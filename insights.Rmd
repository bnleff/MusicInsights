---
title: "Music Insights"
author: "Brandon Leff"
output:
  html_document:
    df_print: paged
---

First, we need tidyverse to handle data importing and wrangling...

```{r}
library(tidyverse)
library(tidyr)
library(sjPlot)
library(ggplot2)
library(dplyr)
survey <- read_csv("https://raw.githubusercontent.com/introdsci/MusicSurvey/master/music-survey.csv")
preferences <- read_csv("https://raw.githubusercontent.com/introdsci/MusicSurvey/master/preferences-survey.csv")
```

```{r}
#Useful Functions for Data Exploration

#nrow(df)
#colnames(df)
#levels(df)
```

# Cleaning Data Frame Column Names to Consistent Format

```{r}
colnames(survey)[colnames(survey) == "First, we are going to create a pseudonym for you to keep this survey anonymous (more or less). Which pseudonym generator would you prefer?"] <- "pseudonym_generator"
colnames(survey)[colnames(survey) == "What is your pseudonym?" ] <- "pseudonym"
colnames(survey)[colnames(survey) == "Academic Year" ] <- "academic_level"
colnames(survey)[colnames(survey) == "Sex"] <- "sex"
colnames(survey)[colnames(survey) == "Major"] <- "academic_major"
colnames(survey)[colnames(survey) == "Year you were born (YYYY)"] <- "year_born"
colnames(survey)[colnames(survey) == "Which musical instruments/talents do you play? (Select all that apply)"] <- "instrument_list"
colnames(survey)[colnames(survey) == "Timestamp"] <- "time_submitted"
colnames(survey)[colnames(survey) == "Artist"] <- "favorite_song_artist"
colnames(survey)[colnames(survey) == "Song"] <- "favorite_song"
colnames(survey)[colnames(survey) == "Link to song (on Youtube or Vimeo)"] <- "favorite_song_link"
colnames(preferences)[colnames(preferences) == "Timestamp"] <- "timestamp"
colnames(preferences)[colnames(preferences) == "What was your pseudonym"] <- "pseudonym"
```

# Creating New Data Frames to Tidy Up Data

First Let's Make a Data Frame Called "person"

tibble() creates data frames with more constraints.

```{r}
person <- tibble(pseudonym = survey$pseudonym, 
                 pseudonym_generator = survey$pseudonym_generator, 
                 sex = survey$sex, 
                 academic_major = survey$ academic_major, 
                 academic_level = survey$academic_level, 
                 year_born = survey$year_born)
```

Next Let's Make a Data Frame Called "favoritesong"

```{r}
favorite_song <- tibble(
  pseudonym = survey$pseudonym, 
  fav_song = survey$favorite_song, 
  fav_song_artist = survey$favorite_song_artist, 
  fav_song_link = survey$favorite_song_link)
```











